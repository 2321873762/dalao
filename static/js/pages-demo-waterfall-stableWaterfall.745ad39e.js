(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-demo-waterfall-stableWaterfall"],{"0053":function(t,e,i){"use strict";var n=i("e17d"),o=i.n(n);o.a},"0f52":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */',""]),t.exports=e},"175c":function(t,e,i){"use strict";i.r(e);var n=i("feac"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"1e47":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("nav-bar",{attrs:{title:"稳定版瀑布流"}}),i("public-module"),i("mescroll-body",{ref:"mescrollRef",attrs:{down:t.downOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"table_box"},[i("v-uni-view",{staticClass:"table_title"},[t._v("使用文档")]),i("v-uni-view",{staticClass:"table_content"},[i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onJumpWebview("http://www.mescroll.com/")}}},[t._v("文档地址：https://ext.dcloud.net.cn/plugin?id=805")])],1)],1),i("waterfall-goods",{attrs:{list:t.dataList}})],1)],1)},a=[]},"29f2":function(t,e,i){"use strict";i.r(e);var n=i("1e47"),o=i("5c7e");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("29fa");var s,l=i("f0c5"),d=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,"d9597b52",null,!1,n["a"],s);e["default"]=d.exports},"29fa":function(t,e,i){"use strict";var n=i("5d62"),o=i.n(n);o.a},"5c7e":function(t,e,i){"use strict";i.r(e);var n=i("95d0"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"5d62":function(t,e,i){var n=i("0f52");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("f61a75fa",n,!0,{sourceMap:!1,shadowMode:!1})},"683f":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{ref:"flow_box",staticClass:"flow-box",style:"height: "+t.loadingTop+"rpx"},t._l(t.newList,(function(e,n){return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.positionList[e.objId].imageLoad,expression:"positionList[item.objId].imageLoad"}],key:e.objId,staticClass:"item good_item",class:t.positionList[e.objId].right?"right":"left",style:{top:t.positionList[e.objId].top+"rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onPageJump(e)}}},[i("v-uni-view",{staticClass:"goods_img"},[i("v-uni-image",{attrs:{"data-id":e.objId,src:e.img,mode:"widthFix"},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.onImageLoad.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"title"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"sell_well"},[i("v-uni-text",[t._v("热销")])],1),i("v-uni-view",{staticClass:"info"},[i("v-uni-text",{staticClass:"money"},[i("v-uni-text",[t._v(t._s(e.priceDiscount))])],1),i("v-uni-text",{staticClass:"count"},[t._v(t._s(e.numSales||0)+"人购买")])],1)],1)})),1)},a=[]},"6c4d":function(t,e,i){"use strict";i.r(e);var n=i("683f"),o=i("175c");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("0053");var s,l=i("f0c5"),d=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,"3fe3672a",null,!1,n["a"],s);e["default"]=d.exports},"95d0":function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("fb6a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("6c4d")),a=n(i("e199")),s=n(i("397a")),l={mixins:[s.default],components:{waterfallGoods:o.default},data:function(){return{downOption:{auto:!1},dataList:[]}},methods:{downCallback:function(){this.loadData(1)},upCallback:function(t){this.loadData(t.num)},loadData:function(t){var e=10,i=a.default.slice((t-1)*e,t*e);this.mescroll.endByPage(i.length,Math.ceil(a.default.length/e)),this.dataList=1==t?i:this.dataList.concat(i)},onJumpWebview:function(t){window.open(t)}}};e.default=l},e17d:function(t,e,i){var n=i("f121");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("4164f015",n,!0,{sourceMap:!1,shadowMode:!1})},f121:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.flow-box[data-v-3fe3672a]{position:relative;color:#1a1a1a;padding:0 %?20?% %?0?% %?20?%;box-sizing:initial}.flow-box .left[data-v-3fe3672a]{left:%?20?%}.flow-box .right[data-v-3fe3672a]{right:%?20?%}.flow-box .good_item[data-v-3fe3672a]{position:absolute;width:%?345?%;border:%?2?% solid #f9f9f9;background:#fff;border-radius:%?20?%;overflow:hidden;margin-bottom:%?20?%}.flow-box .good_item.noMargin[data-v-3fe3672a]{margin-right:0}.flow-box .good_item .goods_img uni-image[data-v-3fe3672a]{width:100%;height:%?345?%}.flow-box .good_item .title[data-v-3fe3672a]{margin:%?20?% %?20?%;color:#333;font-size:%?28?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.flow-box .good_item .sell_well[data-v-3fe3672a]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?0?% %?20?% %?20?% %?20?%}.flow-box .good_item .sell_well uni-text[data-v-3fe3672a]{height:%?32?%;border-radius:%?4?%;border:solid %?2?% #ea552d;line-height:%?28?%;padding:0 %?15?%;font-size:%?24?%;color:#ea552d}.flow-box .good_item .info[data-v-3fe3672a]{width:100%;padding:%?0?% %?20?% %?30?% %?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flow-box .good_item .info .money[data-v-3fe3672a]{font-size:%?26?%;color:#ff3d3d;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flow-box .good_item .info .money uni-text[data-v-3fe3672a]{font-size:%?36?%}.flow-box .good_item .info .count[data-v-3fe3672a]{font-size:%?24?%;color:#999}',""]),t.exports=e},feac:function(t,e,i){"use strict";i("4160"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={startTop:20,contentHeight:182,viewWidth:344,titleWidth:300,titleSize:28,viewSpace:20,idName:"objId",titleName:"name"};function o(t,e){for(var i=t.split(""),o=i.length,a=0,s=0,l=[],d=0,r=n.titleSize,u=n.titleSize/2,f=0;f<o;f++)/[\u4e00-\u9fa5]|[\uFE30-\uFFA0]/g.test(i[f])?d>0?s+r+d*u>e?(l.push({type:"text",content:t.substring(a,f)}),a=f,s=r,d=0):(s+=r+d*u,d=0):s+r>e?(l.push({type:"text",content:t.substring(a,f)}),a=f,s=r):s+=r:/\n/g.test(i[f])?(l.push({type:"break",content:t.substring(a,f)}),a=f+1,s=0,d=0):"\\"==i[f]&&"n"==i[f+1]?(l.push({type:"break",content:t.substring(a,f)}),a=f+2,s=0,d=0):/[a-zA-Z0-9]/g.test(i[f])?(d+=1,s+d*u>e&&(l.push({type:"text",content:t.substring(a,f+1-d)}),a=f+1-d,s=d*u,d=0)):s+u>e?(l.push({type:"text",content:t.substring(a,f)}),a=f,s=u):s+=u;return a<o&&l.push({type:"text",content:t.substring(a,o)}),l.length}var a=!0,s={props:{list:{type:Array,default:function(){return[]}}},data:function(){return{newList:[],positionList:{},loadingTop:0,leftHistoryTop:0,rightHistoryTop:0}},watch:{list:function(t,e){this.newList=t,this.getCalculationPosition()}},methods:{onPageJump:function(t){uni.navigateTo({url:"/pages/home/shop/goodsDetail?objId="+t.objId})},refreshData:function(){},throttle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!a)return!1;a=!1,setTimeout((function(){a=!0,t()}),e)},getCalculationPosition:function(){var t=n.startTop,e=n.startTop,i=this.positionList;this.newList.forEach((function(a,s){var l=n.contentHeight,d={};if(i[a[n.idName]]?d=i[a[n.idName]]:i[a[n.idName]]={},d.imageHeight?(l+=d.imageHeight,i[a[n.idName]].imageLoad=!0):l+=n.viewWidth,d.titleHeight)l+=d.titleHeight;else{var r=o(a[n.titleName],n.titleWidth);r=r>2?2:r,i[a[n.idName]].titleHeight=r*(n.titleSize+6),l+=r*(n.titleSize+6)}t>e?(i[a[n.idName]].top=e,i[a[n.idName]].right=!0,i[a[n.idName]].height=l,e+=l+n.viewSpace):(i[a[n.idName]].top=t,i[a[n.idName]].right=!1,i[a[n.idName]].height=l,t+=l+n.viewSpace)})),this.loadingTop=t>e?t:e,this.positionList=i,this.$forceUpdate()},onImageLoad:function(t){var e=this,i=t.currentTarget.dataset.id,o=n.viewWidth/t.detail.width,a=o*t.detail.height;this.positionList[i]?this.positionList[i].imageHeight=a:this.positionList[i]={imageHeight:a},this.throttle((function(){e.getCalculationPosition()}),100)}}};e.default=s}}]);