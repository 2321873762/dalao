(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-template-poster-scanCode"],{"252a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY1N0Y2Q0E2MTI3MzExRUFCRUVDQ0Q5ODU2MzExRTUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY1N0Y2Q0E3MTI3MzExRUFCRUVDQ0Q5ODU2MzExRTUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU3RjZDQTQxMjczMTFFQUJFRUNDRDk4NTYzMTFFNTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU3RjZDQTUxMjczMTFFQUJFRUNDRDk4NTYzMTFFNTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Inp7jAAABBUlEQVR42uyVsQ6CMBCGWxg0YdA3cTYOOjoYd/UR9AGcjNEFRycmJsMD+ByMvoiTAwnWKx7xQmhtiU0YvOQboL3/g6FXLoRgFnUDnsDAtIFbCHrAvewzbfIsvp6zBuUxx/UXtEfQAfbA8AeZY+AAdIsneQ6AkXjXA5jiuyp98SmmYA5kuGdSnDFc8IAEFzLcaCug4QlmMrrBBy4aiU5Aw2PMYlWBRI6OSCFRCRYkPMIMphLUSZYawQrIVeEqQSk5Y2OOQVTATcJ1gpKQSNZEsCHhJ1W4iYBK6ir81m8ikOyahNsIJFsSfjTt45ZX5gzwgauLK7O90zSVM88RqRQEDn8geAkwAMkxO+1lmC/RAAAAAElFTkSuQmCC"},"31b6":function(e,t,i){"use strict";var n=i("7bc2"),a=i.n(n);a.a},4827:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"poster_page"},[n("nav-bar",{attrs:{title:"海报"}}),n("v-uni-canvas",{staticClass:"poster_canvas",attrs:{"canvas-id":"poster"}}),n("v-uni-swiper",{staticClass:"poster_swiper",attrs:{"previous-margin":"110rpx",circular:!0,current:e.swiperIndex,"next-margin":"110rpx"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onSwiperChange.apply(void 0,arguments)}}},e._l(e.promoteBgImgs,(function(t,i){return n("v-uni-swiper-item",{key:i},[n("v-uni-view",{staticClass:"poster_image",class:{active:e.swiperIndex==i}},[n("v-uni-image",{staticClass:"poster_bg_image",attrs:{src:t,mode:"widthFix"}}),n("v-uni-image",{staticClass:"poster_code_image",attrs:{src:e.promoteCodeImg,mode:"aspectFit"}})],1)],1)})),1),n("v-uni-view",{staticClass:"share_save_box"},[n("v-uni-button",{staticClass:"onSave",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onSaveImg.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:i("c9d2").replace(/^\./,""),mode:"aspectFit"}}),n("v-uni-text",[e._v("保存图片")])],1)],1),e.h5SaveImg?n("v-uni-view",{staticClass:"h5_press_save",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.h5SaveImg=""}}},[n("v-uni-image",{attrs:{src:e.h5SaveImg,mode:"widthFix"}}),n("v-uni-button",{staticClass:"download"},[e._v("长按图片保存图片")])],1):e._e()],1)},s=[]},"4e8b":function(e,t,i){"use strict";i.r(t);var n=i("864b"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},7349:function(e,t,i){"use strict";i.r(t);var n=i("4827"),a=i("4e8b");for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);i("31b6");var o,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"7a314d78",null,!1,n["a"],o);t["default"]=c.exports},"7bc2":function(e,t,i){var n=i("87c7");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("095d60ea",n,!0,{sourceMap:!1,shadowMode:!1})},"864b":function(e,t,i){"use strict";(function(e){var n=i("4ea4");i("c975"),i("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=n(i("1da1")),s=n(i("5530")),o=i("2f62"),r={data:function(){return{promoteBgImgs:["https://qn.kemean.cn/upload/202006/05/1591346203171zj5m2qkl.png","https://qn.kemean.cn/upload/202006/05/1591346218311qsy0h9h7.png","https://qn.kemean.cn/upload/202006/05/15913462289486a12js7d.png"],promoteCodeImg:"https://qn.kemean.cn/upload/202007/03/1593744239803mgajzyjk.png",swiperIndex:0,posterImgs:[],shareInfo:{shareContent:"商家云系统,点击了解",shareImg:"http://qn.kemean.cn/upload/202004/08/15863540965488mlv1qgj.png",shareTitle:"商家云",shareUrl:"http://kemean.com/download/3jiayunbz/index.html"},h5SaveImg:""}},onLoad:function(e){},computed:(0,s.default)({},(0,o.mapState)(["userInfo"])),methods:{onSwiperChange:function(e){this.swiperIndex=e.detail.current},createPoster:function(){var t=this;return new Promise((function(i,n){if(t.posterImgs[t.swiperIndex])i(t.posterImgs[t.swiperIndex]);else{uni.showLoading({title:"海报生成中"});var a=uni.createCanvasContext("poster");a.fillRect(0,0,375,667),uni.downloadFile({url:t.promoteBgImgs[t.swiperIndex],success:function(s){200===s.statusCode?(a.drawImage(s.tempFilePath,0,0,375,667),uni.downloadFile({url:t.promoteCodeImg,success:function(s){200===s.statusCode?(a.drawImage(s.tempFilePath,137.45,504,100.1,100.1),a.draw(!0,(function(){uni.canvasToTempFilePath({canvasId:"poster",width:375,height:667,success:function(n){t.posterImgs[t.swiperIndex]||(t.posterImgs[t.swiperIndex]={}),t.posterImgs[t.swiperIndex].temporary=n.tempFilePath,i(n.tempFilePath),e.log(n.tempFilePath)},fail:function(){uni.hideLoading(),n()}})}))):(uni.hideLoading(),uni.showToast({title:"海报制作失败，图片下载失败",icon:"none"}))},fail:function(e){uni.hideLoading(),uni.showToast({title:"海报制作失败，图片下载失败",icon:"none"})}})):(uni.hideLoading(),uni.showToast({title:"海报制作失败，图片下载失败",icon:"none"}))},fail:function(e){uni.hideLoading(),uni.showToast({title:"海报制作失败，图片下载失败",icon:"none"})}})}}))},onSaveImg:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i="",!e.posterImgs[e.swiperIndex]||!e.posterImgs[e.swiperIndex].temporary){t.next=7;break}return t.next=4,e.posterImgs[e.swiperIndex].temporary;case 4:i=t.sent,t.next=10;break;case 7:return t.next=9,e.createPoster();case 9:i=t.sent;case 10:e.h5SaveImg=i,uni.hideLoading();case 12:case"end":return t.stop()}}),t)})))()},onAppShare:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:uni.share({provider:"weixin",scene:"WXSceneSession",type:0,title:t.shareInfo.shareTitle,href:t.shareInfo.shareUrl,summary:t.shareInfo.shareContent,imageUrl:t.shareInfo.shareImg,success:function(t){e.log("success:"+JSON.stringify(t))},fail:function(t){e.log("fail:"+JSON.stringify(t))}});case 1:case"end":return i.stop()}}),i)})))()}},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(e){var t={path:this.$base.share.path,title:this.shareInfo.shareTitle,imageUrl:this.shareInfo.shareImg};return this.userInfo.token&&(t.path.indexOf("?")>=0?t.path+="&recommendCode="+this.userInfo.uid:t.path+="?recommendCode="+this.userInfo.uid),t}};t.default=r}).call(this,i("5a52")["default"])},"87c7":function(e,t,i){var n=i("24fb"),a=i("1de5"),s=i("252a");t=n(!1);var o=a(s);t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.poster_page[data-v-7a314d78]{min-height:100vh;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.poster_canvas[data-v-7a314d78]{width:%?750?%;height:%?1334?%;position:fixed;top:%?-10000?%;left:%?0?%}.poster_swiper[data-v-7a314d78]{height:%?934?%;width:100%}.poster_swiper uni-swiper-item[data-v-7a314d78]{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.poster_swiper uni-swiper-item .poster_image[data-v-7a314d78]{width:100%;height:100%;-webkit-transform:scale(.88);transform:scale(.88);-webkit-transition:all .4s;transition:all .4s;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;overflow:hidden}.poster_swiper uni-swiper-item .poster_image.active[data-v-7a314d78]{-webkit-transform:scale(1);transform:scale(1)}.poster_swiper uni-swiper-item .poster_image .poster_bg_image[data-v-7a314d78]{width:100%;height:100%}.poster_swiper uni-swiper-item .poster_image .poster_code_image[data-v-7a314d78]{position:absolute;bottom:%?100?%;width:%?140?%;height:%?140?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.share_save_box[data-v-7a314d78]{position:fixed;bottom:calc((100vh - %?934?% - %?240?%) / 4);left:0;z-index:6;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.share_save_box uni-button[data-v-7a314d78]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:initial}.share_save_box uni-button uni-image[data-v-7a314d78]{width:%?60?%;height:%?60?%}.share_save_box uni-button uni-text[data-v-7a314d78]{font-size:%?24?%;color:#333}.h5_press_save[data-v-7a314d78]{background-color:#000;position:fixed;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;z-index:100}.h5_press_save uni-image[data-v-7a314d78]{width:100%}.h5_press_save .download[data-v-7a314d78]{font-size:%?24?%;color:#fff;background-color:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:absolute;padding:%?5?% %?30?%;border-radius:%?40?%;bottom:%?30?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.h5_press_save .download[data-v-7a314d78]:before{content:"";background-image:url('+o+");background-repeat:no-repeat;background-position:50%;background-size:cover;width:%?24?%;height:%?24?%;margin-right:%?15?%}",""]),e.exports=t},c9d2:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRENEUxRkZBQTcwMDExRUE4MkFEREQyREIzNjUyOTc3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRENEUxRkZCQTcwMDExRUE4MkFEREQyREIzNjUyOTc3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REQ0RTFGRjhBNzAwMTFFQTgyQURERDJEQjM2NTI5NzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REQ0RTFGRjlBNzAwMTFFQTgyQURERDJEQjM2NTI5NzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7xNEfHAAAFbUlEQVR42tybb2wURRjGnx4VBVpqDBoVECtGMZUYlYiSFgHRYPRLbcGEJn5SGxX/RavxTyIaNZFoDDRYMdEPSlQQ8AuoNVFsrdRCS4XSQrC0xZiaopSjPQuUu8Pnzc7Vg7uy/2Zv9/okT9Le3c6+v53ZmXlnZ3Ou2XIGHqmAvoOeQxfRhfRU+mI6T/0mQofpXrqLbqeb6Ub6uBdB5Woubxr9IP0APZceZ/L7PGU57rakz2N0E72F/or+Q1eAOZpqeD5dRd9rAdKuBP5b+l26zm1hIZfHL6DrVSD3ewALVaaU/ZM61wI/gK+g19Pb6RJkTiXqnOtVDBkBXkrvpyvgnypUDEu9BB5PV9MbVQ/stwpULBLThbqB8+lv6BUIniSm7+lLdAFfqu6buxBcySjxo4rVFbA0m+/oWxF83UTXmt1uIZN7Vgb+W5A9ulnFPN4J8Pv0ImSfFqnYbQFLd/84slcS+zKrwDLB/wjZr3Vqjm4KXK0ymmyXMKwxy5YW0qXnK+UCXqKXbwTKZwATc/0hGYoCmw4Db+8DTsfP+9NSNZz+MFoNv2F2MoF9aKZ/sCI5t8QgsVjQytGatAzexWZHl18dnDZrMZZixZYCXGXp6o4LDrCNWKrOBb6MXoKxqyWKcQR4OVwu95yIAS/u5hx0G7N1zmqb/gkUcK5iHAEuc1viW21GzxkeZqJ6HHi4Eeg/FSjosgRwYnXRlRr6UoeO3f2BAhbGAgGeBw1rUdMmpX42fVKggIVxXkhXNvTqbCajFxl/59CV1wHXTw5c5zVHbubZOkqaxRtj+z3A3mPA5ROAGRZrtycCPML7PXaGE3g2umvzPQUukhou1FXaBDaauVOsw8YJ+XwL0EXow/+yVfwKRKKeAhcK8JV+ta+PO4HW/rNr+4UWT085NeRXZtQ5yCx9f+rntb3AJ52enXayAOdlGjammvKpWPrv32kHWo56cur8kB+1u+4g0HZs9O+jTPme3OXJxGVYgCM6S+wIA1/2AIOn03//+wBQfcC8nL4TwNO7jI5NoyICHNZVmkwpy+qAV1o5cW1I7XGlKVdxvj0ct1bejr+B1Qe0Ag8KcK+u+1J62ASM1PSjHF9Pxqw35XRaS+D6Pm3AfQLcraOk1exxO855Zi8Z02NNxtCzkYnFGge1JS362WbWypAW4G6Zae2D8dTesaTWPjyY/jupHbc1JBnYip28aPOZ57nrZtvlcFdDvTTh51qMJu2l9vCivtnmuphmAd4BY1uBI73XARwazMxw9lkXsPVP590M3SjAcuc1OrpcRz2dFaXVS63GLM2BhDGcuCM2Oynh9b3ax0lTycLCa3scHbo5eYnnc5ng2O5BMwzr4rxRxTiycHcExrPV++yUUnM7sIGD2sl45mBlabbCfkJbqxjPWqlcZQV4KPb/evD0iUwCivxbvhiy3tWuSvyRPKrJHqgGsyM39QRnvcZiLA2KLQVYtNLsaHmA9ekho/PwrWajRgwSi5W+NfmfdFsPZctAKcaGvoax7xOj1bDoKZ0ZlI8KKxaYActcpnIMAFcqFlNgkexwq8li2BrFAKvAomdg7GDNNtWr2GEXmEkZyiX7yyLYNtVJDTsBFsna4WL6tyyBXaxihlPgxLTzThj7LYOqn2FsHD9i9kOr6wcDMLb3rw0g7Af03bSlh7N2FkxklVi26i6DR2+c2NSAiuUJFRt0Ayckb5nckEi3fNIX9CwViy05XRL7C8Y2/IVWEg6N+gXG5tHlKgZkCjghGadLVIexjfYiM46rsuUcxW47T1376eqUr1L3lYyF8uKV060UkunuVImMzJgC96JWOiW/iie7DGSdYgrSv4onm5y61Vjq6at4/wkwABmFbFx6XbQ9AAAAAElFTkSuQmCC"}}]);